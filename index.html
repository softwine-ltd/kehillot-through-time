<!DOCTYPE html>
<html>

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C58QB49Z2S"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-C58QB49Z2S');
    </script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>Jewish Demographics & Historical Communities Map | Interactive Timeline</title>
    <meta name="title" content="Jewish Demographics & Historical Communities Map | Interactive Timeline">
    <meta name="description"
        content="Explore interactive maps of Jewish communities worldwide, tracking demographic changes and migration patterns throughout history. Discover kehillot and Jewish diaspora population data across time.">
    <meta name="keywords"
        content="Jewish demographics, Jewish history, population maps, Jewish communities, kehillot, Jewish diaspora, historical maps, Jewish migration, interactive timeline, Jewish geography, demographic changes, Jewish population data">

    <!-- Author and Copyright -->
    <meta name="author" content="Bezalel Brandwine and Ofer Manela">
    <meta name="copyright" content="Softwine LTD">

    <!-- Additional Meta -->
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kehilot.softwine.net/">
    <meta property="og:title" content="Jewish Demographics & Historical Communities Map">
    <meta property="og:description"
        content="Explore interactive maps of Jewish communities worldwide, tracking demographic changes and migration patterns throughout history.">
    <meta property="og:image" content="https://kehilot.softwine.net/jewish-history-icon.svg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://kehilot.softwine.net/">
    <meta property="twitter:title" content="Jewish Demographics & Historical Communities Map">
    <meta property="twitter:description"
        content="Explore interactive maps of Jewish communities worldwide, tracking demographic changes and migration patterns throughout history.">
    <meta property="twitter:image" content="https://kehilot.softwine.net/jewish-history-icon.svg">

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": [{
            "@language": "en",
            "@value": "Jewish Demographics & Historical Communities Map"
          }, {
            "@language": "he",
            "@value": "מפת דמוגרפיה וקהילות יהודיות היסטוריות"
          }],
          "description": [{
            "@language": "en",
            "@value": "Interactive mapping platform for exploring Jewish communities..."
          }, {
            "@language": "he",
            "@value": "פלטפורמת מיפוי אינטראקטיבית לחקר קהילות יהודיות..."
          }],
        "keywords": "Jewish demographics, Jewish history, population maps, Jewish communities, kehillot, Jewish diaspora, historical maps, Jewish migration, interactive timeline, Jewish geography, demographic changes, Jewish population data",
        "url": "https://kehilot.softwine.net",
        "publisher": {
            "@type": "Organization",
            "name": "Softwine LTD",
            "logo": {
                "@type": "ImageObject",
                "url": "https://softwine.net/default.svg"
            }
        }
    }
    </script>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://kehilot.softwine.net/">
    <link rel="icon" type="image/svg+xml" href="jewish-history-icon.svg">

    <!-- Leaflet map CSS + JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

    <!-- Timeline -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
    <!-- map markers -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css" />

    <script src="helpers.js"></script>
    <link rel="stylesheet" href="./styles.css" />
</head>

<body class="bg-gray-50">
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex">
                <div class="ml-3">
                    <p class="text-sm text-yellow-700">
                        <strong>Work in Progress:</strong> This visualization is under development. The data has not been verified and some numbers are estimates or approximations for demonstration purposes.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <header class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-semibold text-gray-900">Jewish Demographics & Historical Communities Map</h1>
            <div class="flex gap-4">
                <button id="aboutButton" class="px-4 py-2 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors">
                    About
                </button>
                <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
                    Start Tour
                </button>
            </div>
        </div>
    </header>

    <div class="map-container">
        <div class="floating-icon">
            <img src="jewish-history-icon.svg" alt="Jewish History Interactive Visualization Icon"
                title="Interactive Jewish History Visualization">
        </div>

        <div class="bg-white border-t border-gray-200">
            <div class="timeline-section py-6">
                <div class="flex items-center gap-4 mb-4">
                    <button id="playButton" class="p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        </svg>
                    </button>
                    <div id="year-display" class="text-sm font-medium text-gray-900 w-64 text-center"></div>
                    <div class="flex items-center gap-2 ml-4">
                        <label for="speedControl" class="text-sm text-gray-600">Speed:</label>
                        <input type="range" id="speedControl" min="1" max="20" value="4" class="w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        <span id="speedDisplay" class="text-sm text-gray-500 w-8">4x</span>
                    </div>
                    <div id="year-steps" class="flex items-center gap-1 ml-4">
                        <button data-step="-10" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">-10</button>
                        <button data-step="-5" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">-5</button>
                        <button data-step="-1" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">-1</button>
                        <button data-step="1" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">+1</button>
                        <button data-step="5" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">+5</button>
                        <button data-step="10" class="px-2 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">+10</button>
                    </div>
                    <div class="flex items-center gap-2 ml-4">
                        <label for="tileSelector" class="text-sm text-gray-600">Place names:</label>
                        <select id="tileSelector" class="text-sm border border-gray-300 rounded-md px-2 py-1 bg-white">
                            <option value="osm">Local Language</option>
                            <option value="osm-de">Local Language and German</option>
                            <option value="cartodb">English Labels (CartoDB)</option>
                            <option value="maptiler">English Labels (MapTiler)</option>
                        </select>
                    </div>
                    <div class="flex items-center gap-2 ml-4">
                        <label for="mapCenterSelector" class="text-sm text-gray-600">Map view:</label>
                        <select id="mapCenterSelector" class="text-sm border border-gray-300 rounded-md px-2 py-1 bg-white">
                            <option value="europe">Europe & Middle East</option>
                            <option value="americas">Americas</option>
                        </select>
                    </div>
                </div>
                
                <div id="timeline" class="relative h-2 bg-gray-200 rounded-full">
                    <!-- <div class="absolute left-1/4 h-full w-1/4 bg-blue-500 rounded-full"></div> -->
                </div>
                
                <div class="flex justify-between mt-2">
                    <span class="text-sm text-gray-500">1400 BCE (ב'שס"א)</span>
                    <span class="text-sm text-gray-500">Present (הווה)</span>
                </div>
            </div>
        </div>

        <div id="map"></div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">About This Project</h2>
                    <button id="closeAboutModal" class="text-gray-400 hover:text-gray-600 text-2xl font-bold">
                        ×
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Project Overview</h3>
                        <p class="text-gray-700 leading-relaxed">
                            This interactive visualization explores the demographic history of Jewish communities worldwide, 
                            tracking population changes and migration patterns from ancient times to the present. The map 
                            displays Jewish communities (kehillot) with their estimated populations at different historical 
                            periods, allowing users to understand the ebb and flow of Jewish life across centuries.
                        </p>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Features</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li><strong>Interactive Timeline:</strong> Navigate through 3,400+ years of Jewish history</li>
                            <li><strong>Population Visualization:</strong> Community markers show population size and confidence levels</li>
                            <li><strong>Historical Events:</strong> Major events and persecutions that shaped Jewish demographics</li>
                            <li><strong>Migration Patterns:</strong> Visual representation of Jewish diaspora movements</li>
                            <li><strong>Multilingual Support:</strong> Place names in local languages and English</li>
                            <li><strong>Educational Resources:</strong> Links to historical sources and references</li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Data Sources</h3>
                        <p class="text-gray-700 leading-relaxed">
                            The data combines historical records, archaeological findings, demographic studies, and scholarly 
                            research. Population estimates are based on available historical sources and may include approximations 
                            for demonstration purposes. Sources include academic publications, historical documents, and 
                            established demographic databases.
                        </p>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">How to Use</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li>Use the timeline slider to navigate through different time periods</li>
                            <li>Click on community markers to see detailed information</li>
                            <li>Hover over timeline markers to learn about historical events</li>
                            <li>Use the play button to animate through time automatically</li>
                            <li>Switch between different map views and language options</li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Credits</h3>
                        <p class="text-gray-700 leading-relaxed">
                            <strong>Developed by:</strong> Bezalel Brandwine and Ofer Manela<br>
                            <strong>Organization:</strong> Softwine LTD<br>
                            <strong>Map Data:</strong> OpenStreetMap contributors<br>
                            <strong>Timeline Technology:</strong> noUiSlider<br>
                            <strong>Mapping Library:</strong> Leaflet with MarkerCluster
                        </p>
                    </div>

                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                        <p class="text-yellow-800 text-sm">
                            <strong>Note:</strong> This visualization is under development. Some data points are estimates 
                            or approximations for demonstration purposes and have not been fully verified. We welcome 
                            feedback and corrections from historians and researchers.
                        </p>
                    </div>
                </div>

                <div class="mt-8 flex justify-end">
                    <button id="closeAboutModalBtn" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>